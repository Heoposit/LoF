var setErr,main={},YTPlayer={},ga=ga||null,isMobile=!1;Element.NativeEvents.popstate=2,Element.NativeEvents.canplay=2,Element.NativeEvents.transitionend=2,Element.NativeEvents.transitionstart=2,Element.NativeEvents.touchstart=2,Element.NativeEvents.touchend=2,Element.NativeEvents.touchcancel=2,"find"in Array.prototype||(Array.prototype.find=function(e){for(var t=0;t<this.length;t++)if(e(this[t]))return this[t]},Array.prototype.findIndex=function(e){for(var t=0;t<this.length;t++)if(e(this[t]))return t});var onPlayerReady=function(e){},onPlayerStateChange=function(e){switch(e.data){case YT.PlayerState.PLAYING:e.target.setPlaybackQuality("hd720");break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:}},onPlayerStateChange2=function(e){if(-1==e.data){var t=YTPlaylist.getPlaylistIndex();if(YTPlaylistGallery.getIndex()!=t){var n=YTPlaylistGallery.setIndex(t);YTPlaylistGallery.changeMini(n)}}},bgVideoChangeState=function(e){switch(e.data){case YT.PlayerState.PLAYING:e.target.setPlaybackQuality("hd720");break;case YT.PlayerState.PAUSED:$("playMainVideo").fireEvent("click");break;case YT.PlayerState.ENDED:YTPlayer.bgVideo.seekTo(0)}},startYTMovie=function(e,t){var n={origin:lnVars.main.domain,autohide:1,controls:1,modestbranding:1,enablejsapi:1,rel:0,showinfo:0,theme:"dark",autoplay:1,html5:1,vid:e.getProperty("data-vid"),w:e.getSize().x,h:(e.getSize().x/1.7778).round(),name:String.uniqueID(),events:{onStateChange:onPlayerStateChange,onReady:onPlayerReady}};t&&(n=Object.merge(n,t)),YTPlayer[n.name]=new YT.Player(e,{height:n.h,width:n.w,videoId:n.vid,wmode:"opaque",playerVars:n,events:n.events})},onYouTubeIframeAPIReady=function(){Browser.mobile||document.getElements(".ytAutoStart").each(function(e){"a"==e.get("tag")&&e.addEvent("click",function(e){e.stop()});var t=$(e.getProperty("data-container"));t=t?t.getFirst():e;var n={autoplay:e.getProperty("data-autoplay")||1,vid:e.getProperty("data-vid"),w:"100%",h:"100%",name:e.getProperty("data-name")||String.uniqueID()},i=e.getProperty("data-evStateChange");i&&window[i]&&(n.events={onStateChange:window[i]});var o=e.getProperty("data-evReady");o&&window[o]&&(n.events||(n.events={}),n.events.onReady=window[o]),startYTMovie(t,n)})},popBox=new Class({Implements:[Options],options:{parent:!1,close:!0,classes:null,escToHide:!0,onBtnOk:function(){return!0},onBtnCancel:function(){},onAnimStart:function(){},onAnimEnd:function(){},onShow:function(){},onHide:function(){}},initialize:function(e){this.setOptions(e),this.on=this.el=!1,this.options.parent||(this.options.parent=document.getElement("body")),this.prepareBox()},prepareBox:function(){var e=this;this.popBox={},this.popBox.container=new Element("div.popBox"+this.options.classes).addEvents({transitionstart:function(){e.options.onAnimStart(e.el,e.popBox)},transitionend:function(){e.options.onAnimEnd(e.el,e.popBox),0==this.getStyle("opacity")?e.options.onHide(e.el,e.popBox):e.options.onShow(e.el,e.popBox)}}),this.options.close&&new Element("div.close").set("html",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>Close</title><use xlink:href="#svgIconClose" id="svgIconClosePopbox"></use></svg>').addEvent("click",function(){e.hide()}).inject(this.popBox.container),this.popBox.inner=new Element("div.inner").inject(this.popBox.container),this.popBox.container.inject(this.options.parent),this.options.escToHide&&window.addEvent("keyup",function(t){"esc"==t.key&&e.hide()}),this.popBox.inner.addEvents({'click:relay(button[name="ok"])':function(){e.options.onBtnOk(e.el,e.popBox)&&e.hide()},'click:relay(button[name="cancel"])':function(){e.options.onBtnCancel(e.el,e.popBox),e.hide()}})},setEl:function(e){this.el=e},getPopBox:function(){return this.popBox},setInner:function(e){switch(this.popBox.inner.empty(),typeOf(e)){case"string":this.popBox.inner.set("html",e);break;case"object":case"element":try{this.popBox.inner.grab(e)}catch(t){this.popBox.inner.appendChild(e)}}},show:function(){this.on=!0,this.popBox.container.addClass("on")},hide:function(e){if(e)return this.hide.delay(e,this);this.on=!1,this.popBox.container.removeClass("on")},isOn:function(){return this.on},setSize:function(e,t){var n={x:"auto",y:"auto"};e&&(n.x=e),t&&(n.y=t),this.popup.setStyles({width:n.x,height:n.y})},getCenter:function(){var e=this.options.body.getSize(),t=this.options.body.getScroll().y,n=this.popup.getSize(),i={};return i.x=e.x/2-n.x/2,i.y=e.y/2+t-n.y/2,i.y+n.y>t+e.y&&(i.y=t+e.y-n.y),i.y<15&&(i.y=15),i},setCenter:function(){var e=this.getCenter();return this.popup.setStyles({top:e.y,left:e.x}),e}}),SimpleGallery=new Class({Implements:[Options],options:{close:!0,classes:null,escToHide:!0,clickToHide:!0,arrows:!0,onAnimStart:function(){},onAnimEnd:function(){},onShow:function(){},onHide:function(){}},initialize:function(e){this.setOptions(e),this.on=this.el=!1,this.options.parent||(this.options.parent=document.getElement("body")),this.els=[],this.prepareCont()},prepareCont:function(){var e=this;this.test=1,this.c=new Element("div.simplegalleryCont").inject(document.body),this.hidden=document.getElement("body > div.simplegalleryHidden > img")||new Element("img").inject(new Element("div.simplegalleryHidden").inject(document.body)),this.options.escToHide&&document.body.addEvent("keyup",function(t){"esc"==t.key&&e.hide()}),this.options.clickToHide&&this.c.addEvent("click",function(t){t.target==e.c&&e.hide()}),this.options.close&&new Element("div.close").set("html",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>Close</title><use xlink:href="#svgIconClose" id="svgIconClosePopbox"></use></svg>').addEvent("click",function(){e.hide()}).inject(this.c),this.options.arrows&&(this.arrows={left:new Element('div.arrow.left[html="&#10748;"]').inject(this.c),right:new Element('div.arrow.right[html="&#10749;"]').inject(this.c)},this.arrows.left.addEvent("click",this.prev.bind(this)),this.arrows.right.addEvent("click",this.next.bind(this)))},addEl:function(e){var t=this;e.addEvent("click",function(n){n.stop(),t.show(e)}),this.els.push(e)},addEls:function(e){var t=this;e.each(function(e){t.addEl(e)})},show:function(e){this.test=2;var t=this.c.getElement("img.on"),n=e.getProperty("href"),i=this;if(t&&t.removeClass("on"),this.c.hasClass("on")||this.c.addClass("on"),e.loaded)this.c.getElement('img[src="'+n+'"]').addClass("on");else{var o=e.getElement("img"),a=o.clone().inject(this.c).addClass("on");a.setStyles({width:o.getSize().x,height:o.getSize().y}),Asset.image(n,{onLoad:function(){e.loaded=!0,i.hidden.setProperty("src",n),function(){a.setProperty("src",n).setStyles({width:i.hidden.getSize().x,height:i.hidden.getSize().y})}.delay(300)}})}this.current=e},hide:function(){var e=this.c.getElement("img.on");e&&e.removeClass("on"),this.c.hasClass("on")&&this.c.removeClass("on"),this.current=null},next:function(){var e=0;this.current&&(e=this.els.indexOf(this.current)),e==this.els.length-1&&(e=-1);var t=this.els[e+1];this.show(t)},prev:function(){var e=this.els.length;this.current&&(e=this.els.indexOf(this.current)),0==e&&(e=this.els.length);var t=this.els[e-1];this.show(t)}});Element.implement({fadeWithDelay:function(e,t,n){return this.startfadeWithDelay.delay(t,this,[e,n])},startfadeWithDelay:function(e,t){var n=this;return e>0&&this.setStyle("visibility","visible"),new Fx.Tween(this,{duration:700}).start("opacity",e).chain(function(){if(t)return n.destroy();0==e&&n.setStyle("visibility","hidden")}),this},toggleDelayed:function(e,t,n,i){return this.fade(e),this.fadeWithDelay(t,n,i)},setValue:function(e){return"button"==this.get("tag")?this.set("html",e):this.setProperty("value",e)}});var errorHandler=new Class({initialize:function(e){},addErr:function(e,t,n){var i=typeOf(e);if(null==e||!e||1==e.length||""==e)return this.setGenericErr(t);if("string"==i&&(e=$(e)||this.p.getElement("[name^="+e+"]")),!e)return this.setGenericErr(t);n||this.p||e.getParent();var o=e.getCoordinates();e.getProperty("type");e.addClass("errorBorder");var a=new Element("div.errorBox").setStyles({position:"static","z-index":20,opacity:0}).set("tween",{duration:200}).set("html","<div>"+t+"</div>").inject(e.getParent()),s=a.getSize(),r={left:o.left+o.width-s.x,top:o.top};return r.top<0&&(r.top=o.top+o.height,a.addClass("top")),r={left:o.left,top:o.top+o.height},a.addClass("below"),a.addEvent("click",function(){this.fadeWithDelay(0,0,!0)}),a.setStyles(r),a.tween("opacity",1),a},addErrs:function(e){var t,n=this;return Object.each(e,function(e,i){t=n.addErr(i,e)}),t},setParent:function(e){this.p=e},setGenericErr:function(e){var t=$("errorGeneric");return t||(t=new Element("div#errorGeneric.msg.error.icon").inject(this.p||document.getElement("body"),"top")),t.set("html",e),t},closeErrs:function(){var e=document.getElements("div.errorBox"),t=$("errorGeneric");document.getElements(".errorBorder").removeClass("errorBorder"),e.length>0&&e.destroy(),t&&t.destroy()}}),insertAsyncStuff=function(){new Element('script[async="async"][src="https://www.youtube.com/iframe_api"]').inject(document.getElement("head > script"),"before")};window.addEvent("domready",function(){if(main.body=document.getElement("body"),main.nav=main.body.getElement("> nav"),setErr=new errorHandler,isMobile=window.getSize().x<=767,window.addEvent("resize",function(e){isMobile=window.getSize().x<=767}),"safari"!=Browser.name&&"ios"!=Browser.platform||main.body.addClass("safari"),Cookie.read("agegate")&&"2"!==Cookie.read("agegate")||!$("ageGateTmpl"))$$(".ageGateMask").destroy(),$$(".agegate").removeClass("agegate");else{var e=$$(".agegate"),t=document.importNode($("ageGateTmpl").content,!0);if(e&&Object.getLength(e)>0){var n=new popBox({classes:".agegate",close:!1,escToHide:!1,onBtnOk:function(e,t){var i=0,o=n.getPopBox().inner.getElement('select[name="day"]').getProperty("value").toInt(),a=n.getPopBox().inner.getElement('select[name="month"]').getProperty("value").toInt(),s=n.getPopBox().inner.getElement('select[name="year"]').getProperty("value").toInt(),r=new Date;17==(i+=r.getFullYear()-s)&&(a>r.getMonth()+1?i++:r.getMonth()+1==a&&o>=r.getDate()&&i++);var l=new URI(lnVars.main.domain).parsed.host;if(i>17){Cookie.write("agegate",1,{domain:"."+l,duration:365});return $$(".ageGateMask").destroy(),$$(".agegate").removeClass("agegate"),e.click(),!0}n.setInner("<p>"+lnVars.agegate.denied+"</p>"),function(){n.hide()}.delay(3500),Cookie.write("agegate",2,{domain:"."+l,duration:365})},onShow:function(e){"2"===Cookie.read("agegate")&&function(){n.hide()}.delay(4e3)}});n.getPopBox().inner.addClass("mask"),e.each(function(e){var i=e.getProperty("data-agegate-type")||"popup",o=e.getProperty("data-agegate-parent")?e.getParent():e;"inline"==i&&("static"==o.getStyle("position")&&o.setStyle("relative"),new Element("div.ageGateMask").set("html",lnVars.agegate.mask).inject(o)),e.addEvent("click",function(i){e.hasClass("agegate")&&(i.stop(),n.setEl(e),"2"===Cookie.read("agegate")?n.setInner("<p>"+lnVars.agegate.denied+"</p>"):n.setInner(t),n.show())})})}}$$('[loading="lazy"]').addEvent("load",function(){this.addClass("on")}),main.body.addEvent('submit:relay(form[action="/ajax"])',function(e){e&&e.stop&&e.stop();var t=this.getParent("section.rotator");if(t&&t.addClass("loading"),!this.hasClass("doubleSubmit")){var n=this,i=this.getElement("button[type=submit]"),o=i.get("html");n.getElement('input[name="js"]')||new Element('input[type="hidden"][name="js"][value="1"]').inject(n),setErr.setParent(n),n.set("send",{onRequest:function(){i.setValue(lnVars.loading).setAttribute("disabled","disabled"),setErr.closeErrs()},onSuccess:function(e){if(!e||"{"!=e[0])return i.setValue(o).removeAttribute("disabled"),setErr.addErr("0",lnVars.main.noout);if(!(e=JSON.decode(e)))return i.setValue(o).removeAttribute("disabled"),setErr.addErr("0",lnVars.main.noout);if(e.ok){switch(e.action){case"newsletter":i.setValue(o).removeAttribute("disabled"),n.getParent("div.wrapper").addClass("msg").addClass("ok").set("html",e.msg);break;case"msg":i.setValue(o).removeAttribute("disabled"),(a=new Element("p.ok.icon.msg[html="+e.msg+"]").inject(n,"top")).fadeWithDelay(0,12e3,!0),window.getScroll().y-a.getPosition().y>0&&new Fx.Scroll(window,{duration:1200,transition:"quint:in:out"}).toElement(a,"y"),e.reload&&function(){window.location.reload()}.delay(2e3);break;case"forward":window.location.href=e.url;break;case"test":i.setValue(o).removeAttribute("disabled");break;case"reload":default:window.location.reload()}e.nr||n.reset()}else{if(!e.err)return i.setValue(o).removeAttribute("disabled"),t&&t.removeClass("loading"),setErr.addErr("0",lnVars.main.noout);var a=setErr.addErrs(e.err);window.getScroll().y-a.getPosition().y>0&&new Fx.Scroll(window,{duration:1200,transition:"quint:in:out"}).toElement(a,"y"),i.setValue(o).removeAttribute("disabled")}t&&t.removeClass("loading")},onFailure:function(e){i.removeProperty("disabled").setValue(o),t&&t.removeClass("loading")},onCancel:function(e){i.removeProperty("disabled").setValue(o),t&&t.removeClass("loading")},onException:function(e,n){i.removeProperty("disabled").setValue(o),t&&t.removeClass("loading")}}).addClass("doubleSubmit")}this.send()});var i=document.body.getElements(".vidBg");i&&Object.getLength(i)>0&&(i.each(function(e){var t=e.getProperty("data-vid"),n=e.getProperty("data-delayedloop"),i=e.getProperty("data-poster")||t,o=window.getSize().x<690;if(t){o&&(i=i+="_mobile"),e.setStyle("background-image",'url("/img/video/'+i+'.jpg")');for(var a=new Element("video[muted][autoplay][playsinline]"+(n?"":"[loop]")+'[preload="auto"][poster="/img/video/'+i+'.jpg"]'),s=[{src:t+"_av1",type:"mp4"},{src:t+"_vp9",type:"webm"},{src:t,type:"mp4"},{src:t,type:"webm"}],r=0;r<s.length;r++)a.grab(new Element("source").setProperties({src:"img/video/"+s[r].src+(o?"_mobile":"")+"."+s[r].type,type:"video/"+s[r].type}));a.autoplay=!0,a.playsinline=!0,a.muted=!0,n||(a.loop=!0),a.inject(e),"edge"==Browser.name&&a.addClass("ie"),a.addEventListener("canplay",function(){a.addClass("on")}),n&&a.addEventListener("ended",function(e){a.currentTime=n,a.play()})}}),window.addEvent("resize",function(e){i.each(function(e){var t=e.getElement("video"),n=t.getElements("source"),i=window.getSize().x,o=t.getProperty("poster"),a=n[0].getProperty("src"),s=null;(i=window.getSize().x<690)&&!a.test("_mobile")?(s=1,t.setProperty("poster",o.replace(/\.jpg/,"_mobile.jpg"))):!i&&a.test("_mobile")&&(s=2,t.setProperty("poster",o.replace(/_mobile\.jpg/,".jpg"))),n.each(function(e){var t=e.getProperty("src");1==s?e.setProperty("src",t.replace(/\.(webm|mp4)/,"_mobile.$1")):2==s&&e.setProperty("src",t.replace(/_mobile/,""))}),s&&t.load()})})),"function"==typeof cssVars&&"ie"==Browser.name&&cssVars();var o=$$(".faders");o&&Object.getLength(o)>0&&o.fadeWithDelay(0,5e3,!0);var a=$("cake");a&&a.addEvents({click:function(){a.hasClass("on")?(a.removeClass("on"),main.nav.removeClass("on")):(a.addClass("on"),main.nav.addClass("on"))}});var s=$$(".openVid[data-vid]"),r=function(e){if(e&&e.getElement("iframe")){var t=e.getSize().x-100,n=e.getSize().y-100,i={};(i={width:t,height:t/1.778}).height>n&&(i={width:1.778*n,height:n}),e.getElements("iframe").setProperties(i)}};if(s&&Object.getLength(s)>0){var l=new popBox({classes:".movie",onHide:function(e){var t=e.getProperty("data-name");t&&YTPlayer[t]&&YTPlayer[t].pauseVideo()}});s.each(function(e){e.addEvent("click",function(t){if(t.stop(),!l.isOn()&&!e.hasClass("agegate")){var n=String.uniqueID();this.setProperty("data-name",n),l.setEl(this),l.setInner('<div class="video"></div>');var i={vid:this.getProperty("data-vid"),autoplay:0,name:n};startYTMovie(l.getPopBox().inner.getElement("div.video"),i),r(l.getPopBox().container),l.show()}}),window.addEvent("resize",function(){r(l.getPopBox().container)})})}var d=main.body.getElement("> .intro div.more");d&&d.addEvent("click",function(){var e=d.getParent("section").getNext();e&&new Fx.Scroll(window,{duration:800,transition:"quint:in:out"}).toElement(e,"y")});var c=$("media");if(c){var g=new SimpleGallery({type:"screenshots"}),p=c.getElement("ul.gallery");g.addEls(c.getElements("ul.gallery li.screenshot > a"));var h=c.getElement("ul.galleryNav");h&&p&&h.addEvent("click:relay(> li)",function(){var e=h.getElement("> li.off"),t=this.getProperty("data-type");if(e)if(this.hasClass("off"))this.removeClass("off"),p.getElements("li."+t).removeClass("off");else{h.getElement('> li:not(.off):not([data-type="'+t+'"])')||(h.getElements("li.off").removeClass("off"),p.getElements("li.off").removeClass("off")),this.addClass("off"),p.getElements("li."+t).addClass("off")}else{var n=h.getElements('> li:not([data-type="'+t+'"])');n.addClass("off"),n.each(function(e){e.addClass("off"),p.getElements("li."+e.getProperty("data-type")).addClass("off")})}})}var u=new IntersectionObserver(function(e){e.each(function(e){var t=e.target.getParent();e.isIntersecting&&!t.hasClass("visible")?t.addClass("visible"):t.removeClass("visible")})},{rootMargin:"-200px 0px -200px 0px"});if(main.body.getElements(".animEls div.wrapper").each(function(e){u.observe(e)}),""!=window.location.hash){var m=new URI(window.location.href).get("fragment"),y=$(m);if(y){var v=new Fx.Scroll(window,{duration:800,transition:"quint:in:out"});switch(y.getProperty("data-target")){case"top":default:v.toElement(y,"y");break;case"middle":v.start(0,window.getSize().y/2)}}}main.body.addEvent("click:relay(a[href*=#])",function(e){e.stop();var t=new URI(this.getProperty("href")),n=t.get("scheme")+"://"+t.get("host")+t.get("directory")+"#"+t.get("fragment"),i=$(t.get("fragment")),o=this.getProperty("target");if(i){Modernizr.history&&history.pushState({id:n},null,n);try{_gaq.push(["_trackPageview",n])}catch(e){}new Fx.Scroll(window,{duration:800,transition:"quint:in:out"}).start(0,i.getPosition().y)}else o&&"_blank"==o?window.open(n):window.location.href=n});var f=$("cookieMsg");f&&(f.getElement("button").addEvent("click",function(){Modernizr.sessionstorage&&sessionStorage.setItem("cookieMsg",1),f.setStyles({bottom:-(f.getSize().y+30),opacity:0})}),Modernizr.sessionstorage&&!sessionStorage.getItem("cookieMsg")||!Modernizr.sessionstorage?function(){f.setStyle("opacity",1)}.delay(700):f.destroy()),insertAsyncStuff()}),window.addEvent("load",function(){document.body.removeClass("loading")});